(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f942056"],{"5a9a":function(t,e,a){},"5e93":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"nav-title"},[t._v(t._s(t.title))])},n=[],s={name:"NavTitle",props:{title:{type:String,required:!0,default:"请设置标题"}}},o=s,c=(a("ab29"),a("2877")),r=Object(c["a"])(o,i,n,!1,null,"41d7fc26",null);e["a"]=r.exports},"99b8":function(t,e,a){"use strict";a.r(e);var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"word-cloud-box"},[a("div",{staticClass:"inner noScroll"},[a("NavTitle",{attrs:{title:"热点话题"}}),a("section",{staticClass:"hot-topic"},[0===t.topicList.length?a("a-empty"):[t._l(t.topicList,(function(e,i){return a("section",{key:i,class:["topic-item",t.activeKey===i&&"active"],on:{click:function(a){return t.showTopic(e,i)}}},[a("p",{staticClass:"title"},[t._v(" "+t._s(e.title)+" ")]),t.activeKey===i?a("div",{staticClass:"chart-box"},[a("v-chart",{key:i,staticClass:"echarts",attrs:{autoresize:t.autoresize,options:t.echartsWordCloudOptions(e.wordData)},on:{click:function(a){return t.wordCloudClick(a,e)}}})],1):t._e()])})),a("a-pagination",{staticStyle:{margin:"10px"},attrs:{pageSize:t.size,total:t.totalCount,"show-less-items":""},on:{change:t.pageChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})]],2)],1),a("Drawer",{attrs:{title:"最热评论",placement:"right",closable:!1,width:t.isMobile?"90%":"60%",visible:t.visible},on:{close:function(e){return t.onDrawerClose("visible")}}},[0===t.textList.length?a("a-empty"):[a("ul",t._l(t.textList,(function(e,i){return a("li",{key:i,staticStyle:{"border-bottom":"1px solid #f1f1f1","padding-top":"10px"}},[a("div",{staticStyle:{display:"flex",width:"200px","margin-bottom":"10px"}},[a("a-progress",{attrs:{percent:(100*e.relevance).toFixed(2)||0,size:"small",status:"active"}}),a("span",{staticStyle:{"font-size":"12px",color:"#ccc","margin-left":"20px","min-width":"80px"}},[t._v("（相关度）")])],1),a("p",{staticClass:"content",style:{transition:"all .3s",fontWeight:"bold",fontSize:t.isMobile?"16px":"18px"}},[t._v(" "+t._s(e.text||"---"))]),a("p",{staticClass:"other"},[a("a",{staticStyle:{"margin-left":"10px"},attrs:{target:"_blank",href:e.url}},[t._v("阅读原文")])])])})),0)]],2)],1)},s=[],o=(a("a15b"),a("d81d"),a("a434"),a("b0c0"),a("96cf"),a("1da1")),c=a("5530"),r=a("ade3"),l=(a("1273"),a("f2ca")),u=(a("68c7"),a("de1b")),p=(a("06f4"),a("fc25")),d=(a("6d2a"),a("9571")),f=(a("da0d"),a("f121")),v=a("5e93"),b=a("5880"),h=a("365c"),m={data:function(){return{errorName:"wordCloud",echartsWordCloudOptions:function(t){return Object(f["l"])({data:t})},topicList:[],activeKey:0,visible:!1,textList:[],selectWord:"",autoresize:!0,totalCount:0,page:1,size:10}},components:(i={NavTitle:v["a"],Drawer:d["a"]},Object(r["a"])(i,p["a"].name,p["a"]),Object(r["a"])(i,u["a"].name,u["a"]),Object(r["a"])(i,l["a"].name,l["a"]),i),computed:Object(c["a"])({},Object(b["mapState"])(["isMobile"])),mounted:function(){this.getHotTopic(this.page,this.size)},methods:{wordCloudClick:function(t,e){this.selectWord=t.data.name,this.textList=e.docs&&e.docs.sort((function(t,e){return e.relevance-t.relevance})),this.visible=!0},showTopic:function(t,e){this.activeKey=e},onDrawerClose:function(t){this[t]=!1},getHotTopic:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(h["v"])({website:"tianya",page:t,size:e});case 2:n=i.sent,0===n.status?(s=n.result.totalCount,a.totalCount=s,a.topicList=n.result.data.map((function(t){var e=t.topicWords.map((function(t){return t[0]})).splice(0,10).join("-"),a=t.topicWords.map((function(t){return{name:t[0],value:t[1]}}));return{title:e,wordData:a,docs:t.docs}}))):message.warning("获取失败");case 4:case"end":return i.stop()}}),i)})))()},pageChange:function(t,e){this.getHotTopic(t,e)}}},g=m,w=(a("d7c7"),a("2877")),x=Object(w["a"])(g,n,s,!1,null,"beefb9e8",null);e["default"]=x.exports},ab29:function(t,e,a){"use strict";var i=a("cd2d"),n=a.n(i);n.a},cd2d:function(t,e,a){},d7c7:function(t,e,a){"use strict";var i=a("5a9a"),n=a.n(i);n.a}}]);